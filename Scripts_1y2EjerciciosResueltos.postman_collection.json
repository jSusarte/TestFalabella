{
	"info": {
		"_postman_id": "674f4d7c-edda-4cf5-a97e-fa59202d892c",
		"name": "Scripts_1y2Ejercicios",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "1er Ejercicio",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "1d130628-7b3b-4958-a20e-53de8054b724",
						"exec": [
							"var schema = {\r",
							"  \"definitions\": {},\r",
							"  \"$schema\": \"http://json-schema.org/draft-07/schema#\",\r",
							"  \"$id\": \"http://example.com/root.json\",\r",
							"  \"type\": \"object\",\r",
							"  \"title\": \"The Root Schema\",\r",
							"  \"required\": [\r",
							"    \"Dato_cliente\",\r",
							"    \"Dato_perfil\",\r",
							"    \"Dato_Sucursal\",\r",
							"    \"Dato_productos\",\r",
							"    \"Datos_seguros\",\r",
							"    \"Datos_fondos\",\r",
							"    \"Datos_penalizaciones\"\r",
							"  ],\r",
							"  \"properties\": {\r",
							"    \"Dato_cliente\": {\r",
							"      \"$id\": \"#/properties/Dato_cliente\",\r",
							"      \"type\": \"object\",\r",
							"      \"title\": \"The Dato_cliente Schema\",\r",
							"      \"required\": [\r",
							"        \"Nombre\",\r",
							"        \"Apellido\",\r",
							"        \"Direccion\",\r",
							"        \"Email\",\r",
							"        \"Telefono\",\r",
							"        \"RUT\"\r",
							"      ],\r",
							"      \"properties\": {\r",
							"        \"Nombre\": {\r",
							"          \"$id\": \"#/properties/Dato_cliente/properties/Nombre\",\r",
							"          \"type\": \"string\",\r",
							"          \"title\": \"The Nombre Schema\",\r",
							"          \"default\": \"\",\r",
							"          \"examples\": [\r",
							"            \"jose\"\r",
							"          ],\r",
							"          \"pattern\": \"^(.*)$\"\r",
							"        },\r",
							"        \"Apellido\": {\r",
							"          \"$id\": \"#/properties/Dato_cliente/properties/Apellido\",\r",
							"          \"type\": \"string\",\r",
							"          \"title\": \"The Apellido Schema\",\r",
							"          \"default\": \"\",\r",
							"          \"examples\": [\r",
							"            \"perez\"\r",
							"          ],\r",
							"          \"pattern\": \"^(.*)$\"\r",
							"        },\r",
							"        \"Direccion\": {\r",
							"          \"$id\": \"#/properties/Dato_cliente/properties/Direccion\",\r",
							"          \"type\": \"string\",\r",
							"          \"title\": \"The Direccion Schema\",\r",
							"          \"default\": \"\",\r",
							"          \"examples\": [\r",
							"            \"santa cruz\"\r",
							"          ],\r",
							"          \"pattern\": \"^(.*)$\"\r",
							"        },\r",
							"        \"Email\": {\r",
							"          \"$id\": \"#/properties/Dato_cliente/properties/Email\",\r",
							"          \"type\": \"string\",\r",
							"          \"title\": \"The Email Schema\",\r",
							"          \"default\": \"\",\r",
							"          \"examples\": [\r",
							"            \"pepe@gmail.com\"\r",
							"          ],\r",
							"          \"pattern\": \"^(.*)$\"\r",
							"        },\r",
							"        \"Telefono\": {\r",
							"          \"$id\": \"#/properties/Dato_cliente/properties/Telefono\",\r",
							"          \"type\": \"integer\",\r",
							"          \"title\": \"The Telefono Schema\",\r",
							"          \"default\": 0,\r",
							"          \"examples\": [\r",
							"            262626262\r",
							"          ]\r",
							"        },\r",
							"        \"RUT\": {\r",
							"          \"$id\": \"#/properties/Dato_cliente/properties/RUT\",\r",
							"          \"type\": \"integer\",\r",
							"          \"title\": \"The Rut Schema\",\r",
							"          \"default\": 0,\r",
							"          \"examples\": [\r",
							"            34567456\r",
							"          ]\r",
							"        }\r",
							"      }\r",
							"    },\r",
							"    \"Dato_perfil\": {\r",
							"      \"$id\": \"#/properties/Dato_perfil\",\r",
							"      \"type\": \"object\",\r",
							"      \"title\": \"The Dato_perfil Schema\",\r",
							"      \"required\": [\r",
							"        \"Cuenta_ppal\",\r",
							"        \"Tipo_cliente\",\r",
							"        \"Tarjeta_debito\"\r",
							"      ],\r",
							"      \"properties\": {\r",
							"        \"Cuenta_ppal\": {\r",
							"          \"$id\": \"#/properties/Dato_perfil/properties/Cuenta_ppal\",\r",
							"          \"type\": \"integer\",\r",
							"          \"title\": \"The Cuenta_ppal Schema\",\r",
							"          \"default\": 0,\r",
							"          \"examples\": [\r",
							"            3456456\r",
							"          ]\r",
							"        },\r",
							"        \"Tipo_cliente\": {\r",
							"          \"$id\": \"#/properties/Dato_perfil/properties/Tipo_cliente\",\r",
							"          \"type\": \"string\",\r",
							"          \"title\": \"The Tipo_cliente Schema\",\r",
							"          \"default\": \"\",\r",
							"          \"examples\": [\r",
							"            \"fggssgsg\"\r",
							"          ],\r",
							"          \"pattern\": \"^(.*)$\"\r",
							"        },\r",
							"        \"Tarjeta_debito\": {\r",
							"          \"$id\": \"#/properties/Dato_perfil/properties/Tarjeta_debito\",\r",
							"          \"type\": \"integer\",\r",
							"          \"title\": \"The Tarjeta_debito Schema\",\r",
							"          \"default\": 0,\r",
							"          \"examples\": [\r",
							"            33737373383\r",
							"          ]\r",
							"        }\r",
							"      }\r",
							"    },\r",
							"    \"Dato_Sucursal\": {\r",
							"      \"$id\": \"#/properties/Dato_Sucursal\",\r",
							"      \"type\": \"object\",\r",
							"      \"title\": \"The Dato_sucursal Schema\",\r",
							"      \"required\": [\r",
							"        \"Sucursal_nro\",\r",
							"        \"Ejecutivo\",\r",
							"        \"Telefono_ejec\",\r",
							"        \"Direccion_suc\"\r",
							"      ],\r",
							"      \"properties\": {\r",
							"        \"Sucursal_nro\": {\r",
							"          \"$id\": \"#/properties/Dato_Sucursal/properties/Sucursal_nro\",\r",
							"          \"type\": \"integer\",\r",
							"          \"title\": \"The Sucursal_nro Schema\",\r",
							"          \"default\": 0,\r",
							"          \"examples\": [\r",
							"            37737373\r",
							"          ]\r",
							"        },\r",
							"        \"Ejecutivo\": {\r",
							"          \"$id\": \"#/properties/Dato_Sucursal/properties/Ejecutivo\",\r",
							"          \"type\": \"string\",\r",
							"          \"title\": \"The Ejecutivo Schema\",\r",
							"          \"default\": \"\",\r",
							"          \"examples\": [\r",
							"            \"sergio\"\r",
							"          ],\r",
							"          \"pattern\": \"^(.*)$\"\r",
							"        },\r",
							"        \"Telefono_ejec\": {\r",
							"          \"$id\": \"#/properties/Dato_Sucursal/properties/Telefono_ejec\",\r",
							"          \"type\": \"integer\",\r",
							"          \"title\": \"The Telefono_ejec Schema\",\r",
							"          \"default\": 0,\r",
							"          \"examples\": [\r",
							"            7373737991\r",
							"          ]\r",
							"        },\r",
							"        \"Direccion_suc\": {\r",
							"          \"$id\": \"#/properties/Dato_Sucursal/properties/Direccion_suc\",\r",
							"          \"type\": \"string\",\r",
							"          \"title\": \"The Direccion_suc Schema\",\r",
							"          \"default\": \"\",\r",
							"          \"examples\": [\r",
							"            \"los molles\"\r",
							"          ],\r",
							"          \"pattern\": \"^(.*)$\"\r",
							"        }\r",
							"      }\r",
							"    },\r",
							"    \"Dato_productos\": {\r",
							"      \"$id\": \"#/properties/Dato_productos\",\r",
							"      \"type\": \"object\",\r",
							"      \"title\": \"The Dato_productos Schema\",\r",
							"      \"required\": [\r",
							"        \"Tiene_prod\",\r",
							"        \"Puntos\",\r",
							"        \"Tarjeta_credito\"\r",
							"      ],\r",
							"      \"properties\": {\r",
							"        \"Tiene_prod\": {\r",
							"          \"$id\": \"#/properties/Dato_productos/properties/Tiene_prod\",\r",
							"          \"type\": \"boolean\",\r",
							"          \"title\": \"The Tiene_prod Schema\",\r",
							"          \"default\": false,\r",
							"          \"examples\": [\r",
							"            true\r",
							"          ]\r",
							"        },\r",
							"        \"Puntos\": {\r",
							"          \"$id\": \"#/properties/Dato_productos/properties/Puntos\",\r",
							"          \"type\": \"integer\",\r",
							"          \"title\": \"The Puntos Schema\",\r",
							"          \"default\": 0,\r",
							"          \"examples\": [\r",
							"            3737373\r",
							"          ]\r",
							"        },\r",
							"        \"Tarjeta_credito\": {\r",
							"          \"$id\": \"#/properties/Dato_productos/properties/Tarjeta_credito\",\r",
							"          \"type\": \"integer\",\r",
							"          \"title\": \"The Tarjeta_credito Schema\",\r",
							"          \"default\": 0,\r",
							"          \"examples\": [\r",
							"            94948118\r",
							"          ]\r",
							"        }\r",
							"      }\r",
							"    },\r",
							"    \"Datos_seguros\": {\r",
							"      \"$id\": \"#/properties/Datos_seguros\",\r",
							"      \"type\": \"object\",\r",
							"      \"title\": \"The Datos_seguros Schema\",\r",
							"      \"required\": [\r",
							"        \"Tiene_prod\",\r",
							"        \"SOAP\",\r",
							"        \"Seguro_vehiculo\",\r",
							"        \"Seguro_fraude\",\r",
							"        \"Seguro_hogar\",\r",
							"        \"Seguro_vida\"\r",
							"      ],\r",
							"      \"properties\": {\r",
							"        \"Tiene_prod\": {\r",
							"          \"$id\": \"#/properties/Datos_seguros/properties/Tiene_prod\",\r",
							"          \"type\": \"boolean\",\r",
							"          \"title\": \"The Tiene_prod Schema\",\r",
							"          \"default\": false,\r",
							"          \"examples\": [\r",
							"            true\r",
							"          ]\r",
							"        },\r",
							"        \"SOAP\": {\r",
							"          \"$id\": \"#/properties/Datos_seguros/properties/SOAP\",\r",
							"          \"type\": \"string\",\r",
							"          \"title\": \"The Soap Schema\",\r",
							"          \"default\": \"\",\r",
							"          \"examples\": [\r",
							"            \"dhdhdhd\"\r",
							"          ],\r",
							"          \"pattern\": \"^(.*)$\"\r",
							"        },\r",
							"        \"Seguro_vehiculo\": {\r",
							"          \"$id\": \"#/properties/Datos_seguros/properties/Seguro_vehiculo\",\r",
							"          \"type\": \"string\",\r",
							"          \"title\": \"The Seguro_vehiculo Schema\",\r",
							"          \"default\": \"\",\r",
							"          \"examples\": [\r",
							"            \"ndndnd\"\r",
							"          ],\r",
							"          \"pattern\": \"^(.*)$\"\r",
							"        },\r",
							"        \"Seguro_fraude\": {\r",
							"          \"$id\": \"#/properties/Datos_seguros/properties/Seguro_fraude\",\r",
							"          \"type\": \"string\",\r",
							"          \"title\": \"The Seguro_fraude Schema\",\r",
							"          \"default\": \"\",\r",
							"          \"examples\": [\r",
							"            \"sjjjjj\"\r",
							"          ],\r",
							"          \"pattern\": \"^(.*)$\"\r",
							"        },\r",
							"        \"Seguro_hogar\": {\r",
							"          \"$id\": \"#/properties/Datos_seguros/properties/Seguro_hogar\",\r",
							"          \"type\": \"string\",\r",
							"          \"title\": \"The Seguro_hogar Schema\",\r",
							"          \"default\": \"\",\r",
							"          \"examples\": [\r",
							"            \"oeieooo\"\r",
							"          ],\r",
							"          \"pattern\": \"^(.*)$\"\r",
							"        },\r",
							"        \"Seguro_vida\": {\r",
							"          \"$id\": \"#/properties/Datos_seguros/properties/Seguro_vida\",\r",
							"          \"type\": \"string\",\r",
							"          \"title\": \"The Seguro_vida Schema\",\r",
							"          \"default\": \"\",\r",
							"          \"examples\": [\r",
							"            \"nbbbbbb\"\r",
							"          ],\r",
							"          \"pattern\": \"^(.*)$\"\r",
							"        }\r",
							"      }\r",
							"    },\r",
							"    \"Datos_fondos\": {\r",
							"      \"$id\": \"#/properties/Datos_fondos\",\r",
							"      \"type\": \"object\",\r",
							"      \"title\": \"The Datos_fondos Schema\",\r",
							"      \"required\": [\r",
							"        \"Fondo_mutual\",\r",
							"        \"Ahorro_previsional\",\r",
							"        \"ctaRentaDiaria\"\r",
							"      ],\r",
							"      \"properties\": {\r",
							"        \"Fondo_mutual\": {\r",
							"          \"$id\": \"#/properties/Datos_fondos/properties/Fondo_mutual\",\r",
							"          \"type\": \"string\",\r",
							"          \"title\": \"The Fondo_mutual Schema\",\r",
							"          \"default\": \"\",\r",
							"          \"examples\": [\r",
							"            \"nnnnmmmm\"\r",
							"          ],\r",
							"          \"pattern\": \"^(.*)$\"\r",
							"        },\r",
							"        \"Ahorro_previsional\": {\r",
							"          \"$id\": \"#/properties/Datos_fondos/properties/Ahorro_previsional\",\r",
							"          \"type\": \"integer\",\r",
							"          \"title\": \"The Ahorro_previsional Schema\",\r",
							"          \"default\": 0,\r",
							"          \"examples\": [\r",
							"            12838\r",
							"          ]\r",
							"        },\r",
							"        \"ctaRentaDiaria\": {\r",
							"          \"$id\": \"#/properties/Datos_fondos/properties/ctaRentaDiaria\",\r",
							"          \"type\": \"string\",\r",
							"          \"title\": \"The Ctarentadiaria Schema\",\r",
							"          \"default\": \"\",\r",
							"          \"examples\": [\r",
							"            \"mmmmmdaaa\"\r",
							"          ],\r",
							"          \"pattern\": \"^(.*)$\"\r",
							"        }\r",
							"      }\r",
							"    },\r",
							"    \"Datos_penalizaciones\": {\r",
							"      \"$id\": \"#/properties/Datos_penalizaciones\",\r",
							"      \"type\": \"object\",\r",
							"      \"title\": \"The Datos_penalizaciones Schema\",\r",
							"      \"required\": [\r",
							"        \"InteresesMora_Sobregiro\",\r",
							"        \"InteresMora_TarjetaCredito\",\r",
							"        \"InteresMora_Consumo\",\r",
							"        \"InteresMora_Hipotecario\"\r",
							"      ],\r",
							"      \"properties\": {\r",
							"        \"InteresesMora_Sobregiro\": {\r",
							"          \"$id\": \"#/properties/Datos_penalizaciones/properties/InteresesMora_Sobregiro\",\r",
							"          \"type\": \"integer\",\r",
							"          \"title\": \"The Interesesmora_sobregiro Schema\",\r",
							"          \"default\": 0,\r",
							"          \"examples\": [\r",
							"            888282\r",
							"          ]\r",
							"        },\r",
							"        \"InteresMora_TarjetaCredito\": {\r",
							"          \"$id\": \"#/properties/Datos_penalizaciones/properties/InteresMora_TarjetaCredito\",\r",
							"          \"type\": \"integer\",\r",
							"          \"title\": \"The Interesmora_tarjetacredito Schema\",\r",
							"          \"default\": 0,\r",
							"          \"examples\": [\r",
							"            8282882\r",
							"          ]\r",
							"        },\r",
							"        \"InteresMora_Consumo\": {\r",
							"          \"$id\": \"#/properties/Datos_penalizaciones/properties/InteresMora_Consumo\",\r",
							"          \"type\": \"integer\",\r",
							"          \"title\": \"The Interesmora_consumo Schema\",\r",
							"          \"default\": 0,\r",
							"          \"examples\": [\r",
							"            99900991\r",
							"          ]\r",
							"        },\r",
							"        \"InteresMora_Hipotecario\": {\r",
							"          \"$id\": \"#/properties/Datos_penalizaciones/properties/InteresMora_Hipotecario\",\r",
							"          \"type\": \"integer\",\r",
							"          \"title\": \"The Interesmora_hipotecario Schema\",\r",
							"          \"default\": 0,\r",
							"          \"examples\": [\r",
							"            55662662\r",
							"          ]\r",
							"        }\r",
							"      }\r",
							"    }\r",
							"  }\r",
							"}\r",
							"//1-Validar la estructura del Json.\r",
							"pm.test('Validar si la estructura del Json es correcta', function() { \r",
							"    pm.expect(tv4.validate(pm.response.json(), schema)).to.be.true; \r",
							"});\r",
							"//2-Validar respuesta 200.\r",
							"pm.test(\"Validar response code 200\", function () { pm.response.to.have.status(200); });\r",
							"//3-Validar que los tipos de datos sean correctos.\r",
							"pm.test('Validar si se encuentran los datos correctos', function() {\r",
							"    const result = tv4.validateResult(pm.response.json(), schema);\r",
							"    if(!result.valid) {\r",
							"        console.log(result);\r",
							"    }\r",
							"    pm.expect(result.valid).to.be.true;\r",
							"})\r",
							"//4-Validar Mensaje OK.\r",
							"pm.test(\"Validar Mensaje es ok\", function () {\r",
							"    pm.response.to.have.status(200);\r",
							"});\r",
							"//5-Validar que el formato sea JSON.\r",
							"pm.test('Validar que el formato sea JSON.', () => pm.expect(pm.response.json()).to.be.an('object'))\r",
							"//6-Validar que RUT sea un número.\r",
							"tests[\"Validar que RUT sea un número.\"] = typeof(pm.response.json().Dato_cliente[\"RUT\"]) === \"number\";\r",
							"\r",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "https://api.myjson.com/bins/nhdwe",
					"protocol": "https",
					"host": [
						"api",
						"myjson",
						"com"
					],
					"path": [
						"bins",
						"nhdwe"
					]
				}
			},
			"response": []
		},
		{
			"name": "2do Ejercicio",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "1d130628-7b3b-4958-a20e-53de8054b724",
						"exec": [
							"//1-Validar response code 200",
							"pm.test(\"Validar response code 200\", function () { pm.response.to.have.status(200); });",
							"//2-Validar el tiempo de respuesta es inferior a 500 ms.",
							"pm.test(\"El tiempo de respuesta es inferior a 500 ms.\", function () {",
							"    pm.expect(pm.response.responseTime).to.be.below(500);",
							"});",
							"//3-Validar que el Content-Type header se encuentra presente",
							"pm.test(\"Content-Type header se encuentra presente\", function () {",
							"    pm.response.to.have.header(\"Content-Type\");",
							"});",
							"//4-Validar que el response es un tipo de dato Array",
							"pm.test('Response es un Array', () => pm.expect(pm.response.json()).to.be.an('array').but.not.an('object'))",
							"//5-Validar que algun objeto contenga el valor(united states minor outlying islands) en el atributo name",
							"const jsonData = pm.response.json();",
							"let resultCount = jsonData.length;",
							"let hasThisName = [];",
							"    //Recorrer y hacer match correspondiente",
							"for (i = 0; i < resultCount; i++) {",
							"  let modelString = jsonData[i].name.toLowerCase();",
							"  if (modelString.includes(\"united states minor outlying islands\")) {",
							"   hasThisName.push({",
							"      \"hasThisName\": modelString.has(\"united states minor outlying islands\")",
							"    });",
							"  } else {",
							"     console.log(\"no incluye\")",
							"  }",
							"}",
							"pm.test(\"contiene: united states minor outlying islands en cada objeto en el valor del atributo name\", function() {",
							"  pm.expect(hasThisName.length).to.equal(1);",
							"});",
							"",
							"//6-Validar que el atributo language se encuentre disponible para el primer objeto.",
							"pm.test('Contiene el atributo language', function() {",
							"  pm.expect(jsonData[0]).to.have.property('languages');",
							"});",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "https://restcountries.eu/rest/v2/name/united",
					"protocol": "https",
					"host": [
						"restcountries",
						"eu"
					],
					"path": [
						"rest",
						"v2",
						"name",
						"united"
					]
				}
			},
			"response": []
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "06d2bb9a-e55f-431e-b124-98ce9a7c4fd8",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "99d9d036-7a45-484d-9164-35ba6cdd3c7c",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"protocolProfileBehavior": {}
}